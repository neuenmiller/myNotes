% math.tex - Preamble for CS Math documents.
% Includes theorems, algorithms, and useful math macros.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{thammath}[2023/10/27 My Math Preamble]

%----------------------------------------------------------------------------------------
%   ADVANCED MATH TOOLS
%----------------------------------------------------------------------------------------
\usepackage{mathtools} % An extension of amsmath with tons of fixes and new tools.
                       % You'll love \coloneqq (:=) and paired delimiters.

\usepackage{amsthm}    % For creating theorem-like environments.

\usepackage{bm}        % For bold math symbols. \bm{\beta} is better than \mathbf{\beta}.

%----------------------------------------------------------------------------------------
%   ALGORITHMS
%----------------------------------------------------------------------------------------
\usepackage{algorithm}
\usepackage{algpseudocode} % A great combo for writing beautiful pseudocode.

%----------------------------------------------------------------------------------------
%   CUSTOM THEOREM ENVIRONMENTS
%----------------------------------------------------------------------------------------
% These environments will share the same counter, numbered within sections.
\theoremstyle{definition} % Upright text, bold heading.
\newtheorem{definition}{Definition}[section]
\newtheorem{example}{Example}[section]

\theoremstyle{plain} % Italicized text, bold heading.
\newtheorem{theorem}[definition]{Theorem}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{proposition}[definition]{Proposition}
\newtheorem{corollary}[definition]{Corollary}

\theoremstyle{remark} % Upright text, italic heading.
\newtheorem{remark}{Remark}[section]

%----------------------------------------------------------------------------------------
%   CUSTOM MATH COMMANDS & OPERATORS
%----------------------------------------------------------------------------------------
% Math sets
\newcommand{\R}{\mathbb{R}} % Real numbers
\newcommand{\Z}{\mathbb{Z}} % Integers
\newcommand{\N}{\mathbb{N}} % Natural numbers
\newcommand{\C}{\mathbb{C}} % Complex numbers
\newcommand{\Q}{\mathbb{Q}} % Rational numbers

% Paired delimiters from mathtools - automatically scales!
% e.g., \abs{ \frac{1}{2} } will have the right size bars.
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\paren}{(}{)}
\DeclarePairedDelimiter{\sqbrak}{[}{]}
\DeclarePairedDelimiter{\braces}{\{}{\}}

% Custom operators
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\E}{\mathbb{E}} % Expected value
\DeclareMathOperator{\Var}{Var}      % Variance
\DeclareMathOperator{\Cov}{Cov}      % Covariance

% For derivatives (makes notation consistent)
\newcommand{\dd}{\mathop{}\!\mathrm{d}}

%----------------------------------------------------------------------------------------
%   CUSTOM ENVIRONMENT
%----------------------------------------------------------------------------------------

\newenvironment{alignedMatrix}
{%
  \begingroup
  \sisetup{
    table-format=2.0,
    table-align-text-post=false,
    detect-weight=true,
    detect-family=true
  }
  \left[ \begin{array}{*{20}{S}} % up to 20 columns
}
{%
  \end{array} \right]
  \endgroup
}